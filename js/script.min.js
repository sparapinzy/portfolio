function addSlide(e,t){const o=document.getElementById(e),n=document.createElement("figure");let l=`${t.title} — ${t.medium}`;t.size&&(l+=` — ${t.size}`),l+=` — ${t.year}`,n.innerHTML=`\n    <img src="${t.image}" alt="${l}">\n    <figcaption>${l}</figcaption>\n  `,o.appendChild(n)}function initCarousel(e){const t=document.getElementById(e),o=t.closest(".carousel"),n=t.querySelectorAll("figure");if(0===n.length)return;const l=o.querySelector(".next"),a=o.querySelector(".prev");let r=0,c=!1,s=setInterval(i,4e3);l.addEventListener("click",()=>{i(),g()}),a.addEventListener("click",()=>{r=(r-1+n.length)%n.length,u(),g()});const d=document.createElement("button");function i(){r=(r+1)%n.length,u()}function u(){t.style.transform=`translateX(-${100*r}%)`}function g(){c||(clearInterval(s),s=setInterval(i,4e3))}d.id="pause-carousel",d.classList.add("btn"),d.textContent="⏸",o.appendChild(d),console.log("Pause button created"),d.addEventListener("click",()=>{c?(s=setInterval(i,3e3),d.textContent="⏸"):(clearInterval(s),d.textContent="▶"),c=!c})}fetch("artworks.json").then(e=>e.json()).then(e=>{document.getElementById("featured-carousel")&&(e.filter(e=>e.featured).forEach(e=>addSlide("featured-carousel",e)),initCarousel("featured-carousel")),document.getElementById("latest-carousel")&&(e.sort((e,t)=>t.year-e.year).slice(0,5).forEach(e=>addSlide("latest-carousel",e)),initCarousel("latest-carousel")),document.getElementById("all-carousel")&&(e.sort((e,t)=>t.year-e.year).forEach(e=>addSlide("all-carousel",e)),initCarousel("all-carousel"))}).catch(e=>console.error("Error loading artworks:",e));const themeToggle=document.getElementById("theme-toggle"),themeIcon=document.getElementById("theme-icon"),siteLogo=document.getElementById("site-logo"),sunIcon='\n  <circle cx="12" cy="12" r="5" fill="currentColor"/>\n  <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2"/>\n',moonIcon='\n  <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" fill="currentColor"/>\n';function updateThemeIcon(){themeIcon&&(document.body.classList.contains("dark-mode")?themeIcon.innerHTML=sunIcon:themeIcon.innerHTML=moonIcon)}themeToggle&&(themeToggle.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(localStorage.setItem("theme","dark"),siteLogo&&(siteLogo.src="images/logo-dark.svg")):(localStorage.setItem("theme","light"),siteLogo&&(siteLogo.src="images/logo-light.svg")),updateThemeIcon()}),"dark"===localStorage.getItem("theme")?(document.body.classList.add("dark-mode"),siteLogo&&(siteLogo.src="images/logo-dark.svg")):siteLogo&&(siteLogo.src="images/logo-light.svg"),updateThemeIcon());const yearEl=document.getElementById("current-year");yearEl&&(yearEl.textContent=(new Date).getFullYear());const lastUpdatedEl=document.getElementById("last-updated");if(lastUpdatedEl){const e=new Date(document.lastModified);lastUpdatedEl.textContent=e.toLocaleDateString()}